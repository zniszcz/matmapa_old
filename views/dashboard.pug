extends layout
block content
  section.col-md-12
    div.row(style="padding-top:70px;")
      div(class=typeof name === "undefined" ? "col-md-12" : "col-md-8")
        table.table.table-striped.table-hover.col-md-12
          thead
            tr
              th id
              th tytu≈Ç
              th.text-center roots id
              th.text-center number of childs
          tbody.links
            tr
              //- td(colspan=4)
                - console.log(locals);
              //- each dupa in locals
              td(colspan=4) #{locals}
            //- each dupa in childs
                tr
                  td 
                    a(href="/dashboard/"+dupa.id)
                      | #{dupa.id}
                  td 
                    a(href="/dashboard/"+dupa.id)
                      | #{dupa.name}
                  td.text-center 
                    each root in dupa.roots
                      a(href="/dashboard/"+root)
                        | #{root}, 
                  td.text-center #{dupa.childs.length}
          tfooter
            tr
              td(colspan=4)
                form(action="/dashboard", method="POST")
                  div.input-group.btn-block
                    span.input-group-addon 
                      b Nowy child
                    input(type="text").form-control
                    span.input-group-btn
                      button.btn.btn-default(type="button")
                        span.glyphicon.glyphicon-plus
      if(typeof name !== "undefined")    
        div.col-md-4
          h1 #{name}
          p.lead
            | #{description}
          br
          h4 ROOT:
          ul.list-unstyled
            each root in roots
              li 
                span.label.label-default #{root.id}
                |  #{root.name}
          br
          h4 CHILDS:
          ul.list-unstyled
            each child in childs
              li 
                span.label.label-default #{child.id}
                |  #{child.name}
